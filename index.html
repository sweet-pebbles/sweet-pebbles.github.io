<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pebbles</title>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
    }

    body {
        font-family: Arial, Helvetica, sans-serif;
        font-size: large;
    }

    .container {
        margin-top: 20px;
        margin-bottom: 30px;
        margin-left: auto;
        margin-right: auto;
        width: 80%;
        /* position: absolute; */
        /* top: 50%;
        left: 50%;
        -ms-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%); */
    }

    #reply {
        margin-top: 10px;
        color: black;
    }

    #correct-answer {
        display: none;
    }

    #myBtn {
        padding: 5px 10px;
        margin-bottom: 8px;
        background-color: #303030;
        border-radius: 2px;
        color: white;
        border: none;
    }

    #answer,#pass {
        padding: 3px;
        border: 1px #2ecc71 solid;
        border-radius: 2px;
    }

    #pass {
        margin-bottom: 5px;
    }

    #question, #secQue {
        font-size: 15px;
    }

    #image {
        padding-left: 20px;
        margin-top: 15px;
        margin-bottom: 15px;
        width: 13rem;
    }

    #hi {
        /* margin-top: 5rem; */
        width: 50%;
        margin-left: 25%;
    }

    #letter {
        margin-top: 30px;
        font-size: medium;
    }

    textarea{
        width: 90%;
        padding: 10px;
    }

    #message-button, #message-button-2,#second-form-button {
        margin-top: 8px;
        padding: 5px 10px;
        color: white;
        background-color: #303030;
        border: 1px #303030 solid;
        border-radius: 2px;
    }

    #wait {
        display: none;
        color: #2ecc71;
    }

    .wrapper-3{
        display: none;
    }

</style>
<body>
    <div class="container">
        <div id="correct-answer">
            <img id='hi' src='./hi.png'>
            <p id='letter'>
                <b>Hi</b><br/><br/>
                I hope all this isn't too much. I had to make sure that you don't get into any trouble in case your parents found the ball.<br/>
                This could be my last letter to you so this might be my only chance to clear any misunderstandings between us or say my final goodbye.<br/>
                First, let me clear all misunderstandings. 
                I will skip a lot of details because if it is indeed a goodbye, none of this would matter and I have to save space to say more important things.<br/><br/>

                I sent my last letter on 22nd June. Four days later, you waved at me. I waved back but maybe you didn't saw it. 
                I thought you would call me that day but you didn't. Five days later, you called me using your mother's number. 
                I am assuming that the call was from you instead of a random person. 
                Anyways, I missed your call. Two hours later, I called back. Your mother received the call. I asked if she called me and she said no. 
                Then I hanged the phone saying something like "I am sorry. Must be wrong number". Now, you are back home but you still haven't called me. <br/><br/>

                You have now stopped coming to your roof. Maybe, you have to go to some tutions or something. I just hope that you don't think that I am ignoring you 
                because I would never do such a thing. I know that I should have said Hi to you after you came back home but whenever I want to do it,
                my hands get paralyzed. Also, your neighbours keep looking towards me. 
                I don't want them to know that I am waving at you. The distance between our houses also creates problems in communication. 
                Both of us sometimes miss each other's gestures.<br/><br/>

                I hope this cleares all misunderstandings between us. So, if you weren't messaging me because of these misunderstandings, 
                I am hoping that I can now finally get to know you. It's been too long already. I haven't been home for two months now. 
                Dadi's food isn't getting any better. My parents miss me. My classes are online that's why I have been able to live anywhere I want.
                If you want, you can also message me on Snapchat or Instagram or Whatsapp. It's your choice. I made these accounts recently. I don't use social media.
                Just message me soon if you still want us to know each other. I am here till the end of August if my father doesn't come early to pick me.<br/><br/>

                <b>Snapchat: aryan_earth</b><br/>
                <b>Instagram: aryan_earth</b><br/>
                <b>Mobile Number: 7015230859</b><br/><br/>

                And please don't take too much days this time and don't wait for me to say Hi to you on the roof before messaging or calling me because 
                chances are I will mess it up again by not doing anything. I already feel very bad for making you wait too long. I understand that it's a big step for you 
                to message me. It was also a big step for me to send that first letter. I didn't knew anything about you. All I hoped for was that you were a good person. <br/><br/>
                <b>Sometimes, you have to take a leap of faith first. The trusting part comes later.</b> <br/><br/>
                That's all I can say. I didn't do all this to convince you to message me. 
                I just wanted to clear everything and then let you decide for yourselves. I was hoping to find a great friend in you. 
                But, that is not my decision to make. <b>It has always been yours.</b><br/><br/>

                <b>In case it's farewell:</b><br/><br/>
                Ever since that first letter, I knew that any letter could be my last. So, if this is indeed my last letter 
                and you have decided to not message me then I guess it's time to say goodbye. These are my last words to you. Nothing follows hereafter. <br/><br/>

                We were not able to know each other but, both of us have already created permanent impact on each other's lives. 
                Memories fade with time but I will always remember writing these letters as you would remember reading them. 
                All this that happened seems more like a story in a book than something that would happen in real life. 
                This incident was very rare and I am sure that none of us would experience something like this again in our lives. 
                After some time, all this would seem like a dream.<br/><br/>

                I will always remember you as a person that I failed to know. I don't know your name and will probably never know it. 
                But, I suppose it doesn't matter now what I call you. So, I am going to call you Sonya. It's the name of the girl from a book I am reading. 
                The book is called "War and Peace". It's a Russian novel. The name is Russian too but like I said it doesn't matter now. 
                I just need a name to remember you by.<br/><br/>

                So, my dear Sonya, I want you to know that there are no hard feelings on my side and I hope it's the same for you too.<br/><br/>

                Since this is my last letter, I want to give you some advice as a friend. I hope that I created some positive impact on your life.<br/><br/>

                <b>Firstly</b>, I would advice you to read books. The internet has all the information you will ever need but you will never be able to get wisdom from it. 
                So, whenever you have to make an important decision in your life, don't search the internet for it. 
                You will most likely end up following a stranger's advice that you might regret later. Wisdom can only be gained from books 
                and only read books that are written by people or are about people who have lived extraordinary lives or experienced great sufferings. 
                Stay as far away as you can from Self Help books. If you find a book that you think will change your life, it's better to throw it away. 
                Books don't change our lives. They don't contain any secrets. They change how we see the world and then it's us who change our lives. <br/><br/>

                <b>Secondly</b>, don't fall in the social media trap. It's a fake world. It's full of show off and fake insights. 
                Every company sells something and Facebook and Instagram sell attention. But, if you will measure your worth or happiness based on other's people's opinions, 
                you will never be happy in your life.<br/><br/>

                <b>Last but not the least</b>, don't believe people when they say that life is boring. Life is only boring if we accept it that way. 
                There have been people before, after and right now that are living extraordinary lives. How we live our lives depends on how we see our lives. 
                I see it as an adventure. The most exciting there will ever be.<br/><br/>

                This story doesn't have a happy ending but that doesn't mean that this letter cannot have one too. <br/>
                <b>So, I have something for you on the next page. A token of goodwill.</b><br/><br/>
                I'll probably never see you again. I know that. And you know that. And knowing this, I say farewell.<br/><br/>
                <b>Goodbye Sonya</b>
            </p>
            <br/><br/>
            <form id='message-contact'>
                <h5 style='margin-bottom: 5px;'>If you want to say something to me, then you can type it in the box below and press send. If it's time
                to say goodbye, then please send a goodbye in the box below so that I can know what you want. But, if you still want us to know each other then 
                do send a Hi in the box below. And I hope you contact me soon.</h5>
                <br/>
                <textarea placeholder="Type here..." id='textMessage' name='textMessage' rows='4'></textarea>
                <br/>
                <input id='message-button' onclick='send();' type="submit" value='Send'>
                <br/><br/>
                <h5>Or, if you don't want to send anything, then click on Continue.</h5>
                <button id='message-button-2' onclick="nextPage();">Continue</button>
            </form>
            <p id='wait' >Hold on...</p>
        </div>
        <div class="wrapper-1">
            <h1>Are we Friends?</h1>
            <br/>
            <h3>Let's find out...</h3>
            <br/>
            <h5>
                <q>
                    <i>
                        He comes from a place where good prevails <br/>
                        where friendship lasts and evil fails; <br/>
                        He is noble, his heart kind, <br/>
                        A friend hard to find.
                    </i>
                </q>   
            </h5>
            <br/>
            <p id='question'>What is the name of our brave adventurer?</p>
            <img id="image" src='./cloud_and_pathar.svg'>
            <br/>
            <input id='answer' type='text' placeholder="Type here...">
        </div>
        <div class="wrapper-2">
            <form id='contact-form'>
                <br/>
                <input type="submit" id='myBtn' onclick="sendAlert();" value="Continue">
                <!-- <p id='warning'  style='color: grey;'>(Submit the correct answer to reveal the message)</p> -->
            </form>
            <h3 id='reply'></h3>
        </div>
        <div class="wrapper-3">
            <p style="margin-bottom:15px;font-size: smaller;">OR, answer this...</p>
            <form id="second-form">
                <p id="secQue" style='margin-bottom:15px;'>What is my name (first name)?</p>
                <input id='pass' type='text' placeholder='Type here...' required><br/>
                <button id='second-form-button' type='submit' onclick="secFunc();">Submit</button>
            </form>
            <h2 id='mouse' style="margin-top:10px;"></h2>
        </div>
    </div>
<script>

    function nextPage() {
        window.location.href = "/page2.html";
    }

    const messageForm = document.getElementById('message-contact')
    const waitMessage = document.getElementById('wait')

    messageForm.addEventListener('submit', event => event.preventDefault())

    function send(){

            const letterFromHer = document.getElementById('textMessage').value

            if(!letterFromHer) {
                return swal("Oops!", "Fill in the text field", "warning");
            }

            wait.style.display = 'block'
            messageForm.style.display = 'none'

            const url='https://formspree.io/xrgydlvq';
            let data = {
                _replyto: 'fromPage@second.com',
                _message: letterFromHer
            }

            let fetchData = { 
                method: 'POST', 
                headers: {
                    'Content-Type': 'application/json;charset=utf-8'
                },
                body: JSON.stringify(data)
            }
            fetch(url, fetchData)
            .then(function() {
                console.log('message sent from page 2')
                window.location.href = "/page2.html";
            })
            .catch(error => {
                console.log('error')
            })
    }

</script>
<script>
    const form = document.getElementById('contact-form')
    const formTwo = document.getElementById('second-form')

    const warning = document.getElementById('warning')
    const acknowledge = document.getElementById('reply')
    const correctAnswer = document.getElementById('correct-answer')

    const wrapperOne = document.querySelector('.wrapper-1')
    const wrapperTwo = document.querySelector('.wrapper-2')

    var answerCopy = []
    var counter = 0

    formTwo.addEventListener('submit', e => e.preventDefault())

    form.addEventListener('submit', e => {
        e.preventDefault()
        counter = counter + 1
        
        if (counter >= 3){
            acknowledge.innerHTML = ''
            document.querySelector('.wrapper-3').style.display = 'block'
        }

        for (var i=0; i< answerCopy.length; i++){
            if(answerCopy[i] == 'pebble' | answerCopy[i] == 'pebbles'){
                document.querySelector('.wrapper-3').style.display = 'none'
            }
        }
        
        const button = document.getElementById('myBtn')
            button.disabled = true

            const url='https://formspree.io/xrgydlvq';
            let data = {
                _replyto: 'fromPage@first.com',
                _message: answerCopy
            }

            let fetchData = { 
                method: 'POST', 
                headers: {
                    'Content-Type': 'application/json;charset=utf-8'
                },
                body: JSON.stringify(data)
            }
            fetch(url, fetchData)
            .then(function() {
                console.log('message sent from page 1')
                form.reset()
            })
            .catch(error => {
                console.log('error')
            })
        //  Enabling button
            button.disabled = false
        })

    function sendAlert() {
        var answer = document.getElementById('answer').value

        answerCopy.push(answer)
        console.log(answerCopy)
        // warning.style.display = 'none'


        if( answer.toLowerCase() == 'pebbles' | answer.toLowerCase() == 'pebble' ) {
            
            wrapperOne.style.display = 'none'
            wrapperTwo.style.display = 'none'
            correctAnswer.style.display = 'block'
            window.location.hash = '#correct-answer';
            document.querySelector('.wrapper-3').style.display = 'none'
        }
        else if(!answer){
            acknowledge.innerHTML = 'Fill in the field...'
            document.querySelector('.wrapper-3').style.display = 'none'
        }

        else{
            document.getElementById('answer').value = ''
            acknowledge.innerHTML = 'Nope, try again...'
            document.querySelector('.wrapper-3').style.display = 'none'
        }
    }

    function secFunc() {
        const replyTwo = document.getElementById('mouse')
        var pass = document.getElementById('pass').value

        if(pass.toLowerCase() == 'aryan'){
            wrapperOne.style.display = 'none'
            wrapperTwo.style.display = 'none'
            correctAnswer.style.display = 'block'
            window.location.hash = '#correct-answer';
            document.querySelector('.wrapper-3').style.display = 'none'

        }
        else{
            replyTwo.innerHTML = 'you need to work hard...'
        }
    }
</script>
</body>
</html>